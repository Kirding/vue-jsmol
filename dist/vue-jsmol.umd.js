(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue"),require("jquery")):typeof define=="function"&&define.amd?define(["vue","jquery"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.VueJSmol=r(e.Vue,e.$))})(this,function(e,r){"use strict";let s=!1;const c=()=>new Promise((n,t)=>{if(typeof Jmol<"u"){n(window.Jmol);return}if(s)return;const o=document.createElement("script");o.src="../assets/JSmol.min.js",o.onload=()=>{s=!0,n(window.Jmol)},o.onerror=t,document.head.appendChild(o)}),u=["id"],a={__name:"JSmolViewer",props:{src:{type:String,required:!0},width:{type:String,default:"500px"},height:{type:String,default:"400px"},j2sPath:{type:String,default:"/src/assets/j2s"},use:{type:String,default:"HTML5"}},setup(n){const t=n,o=e.ref(`jsmol-${Math.random().toString(36).substr(2,9)}`);let d=null;const m=async()=>{try{const i=await c(),l={debug:!1,addSelectionOptions:!1,color:"0xFFFFFF",width:t.width,height:t.height,use:t.use,j2sPath:t.j2sPath,container:document.getElementById(o.value),readyFunction:()=>{console.log("JSmol is ready")}};d=i.getApplet(o.value,l),i.script(d,`load ${t.src}`)}catch(i){console.error("[JSmol Error]",i)}};return e.watch(()=>t.src,i=>{Jmol.script(d,`load ${i}`)}),e.onMounted(()=>{window.$=window.jQuery=r,m()}),e.onUnmounted(()=>{d&&Jmol.destroyApplet(d),delete window.$,delete window.jQuery}),(i,l)=>(e.openBlock(),e.createElementBlock("div",{id:o.value,style:e.normalizeStyle({width:n.width,height:n.height})},null,12,u))}};return{install:(n,t={})=>{n.component(t.componentName||"JSmolViewer",a)}}});
